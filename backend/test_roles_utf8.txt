============================= test session starts =============================
platform win32 -- Python 3.13.2, pytest-7.4.3, pluggy-1.6.0 -- C:\Users\engan\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\engan\OneDrive\Área de Trabalho\sigma\backend
configfile: pytest.ini
plugins: anyio-3.7.1, Faker-20.1.0, asyncio-0.21.1, cov-4.1.0, mock-3.12.0
asyncio: mode=Mode.STRICT
collecting ... collected 7 items

tests/test_roles.py::test_create_role_success PASSED                     [ 14%]
tests/test_roles.py::test_create_role_duplicate PASSED                   [ 28%]
tests/test_roles.py::test_read_roles PASSED                              [ 42%]
tests/test_roles.py::test_read_role_details PASSED                       [ 57%]
tests/test_roles.py::test_update_role PASSED                             [ 71%]
tests/test_roles.py::test_delete_role PASSED                             [ 85%]
tests/test_roles.py::test_create_role_unauthorized PASSED                [100%]

---------- coverage: platform win32, python 3.13.2-final-0 -----------
Name                                       Stmts   Miss  Cover   Missing
------------------------------------------------------------------------
__init__.py                                    0      0   100%
check_enums.py                                18     18     0%   1-23
check_photo_path.py                            9      9     0%   1-13
check_webmaster.py                            35     35     0%   1-48
config.py                                     12      1    92%   9
controllers\__init__.py                        0      0   100%
create_superadmin.py                          28     28     0%   1-56
database.py                                   16      4    75%   25-29
debug_db.py                                   17     17     0%   1-26
dependencies.py                               97     74    24%   24, 34-45, 57-63, 69-105, 125-159, 172-177, 185-190, 197-201
fix_enums.py                                  18     18     0%   1-26
fix_family_enums.py                           19     19     0%   1-27
list_permissions.py                           13     13     0%   1-16
main.py                                       42      1    98%   209
middleware\__init__.py                         0      0   100%
migrate_photo.py                              58     58     0%   1-97
models\__init__.py                             1      0   100%
models\models.py                             351      0   100%
routes\__init__.py                             0      0   100%
routes\attendance_routes.py                   18      3    83%   30, 45, 62
routes\auth_routes.py                         61     32    48%   33, 53, 55-74, 92-123
routes\check_in_routes.py                     10      1    90%   27
routes\document_routes.py                     24      7    71%   29, 44, 55, 71-77, 87
routes\event_routes.py                        40     12    70%   29, 39, 51, 66, 80-81, 99, 114, 128, 143, 157-158
routes\financial_routes.py                    23      6    74%   29, 48, 62, 79, 96-99
routes\lodge_routes.py                        31     15    52%   25, 31-32, 38-41, 52-55, 65-68
routes\member_role_routes.py                  59     49    17%   22-91, 102-138
routes\member_routes.py                      201    174    13%   23-46, 57-69, 79-95, 106-141, 151-172, 183-214, 225-247, 347-446
routes\obedience_routes.py                    31     15    52%   25, 33-34, 40-43, 54-57, 67-70
routes\permission_routes.py                   38     21    45%   16-20, 29-32, 42-43, 50-53, 63-66, 73-76
routes\role_routes.py                         38      2    95%   65, 75
routes\session_routes.py                      39     11    72%   29, 47, 65, 80, 97, 114, 128, 142, 162, 180-181
routes\super_admin_routes.py                  43     23    47%   20-23, 33-34, 41, 50-53, 63-68, 77-80, 89-92
routes\webmaster_routes.py                    37     19    49%   21-22, 29-32, 41, 51-56, 63-66, 73-76
run_tests.py                                   6      6     0%   1-9
scheduler.py                                  36     20    44%   19-55
schemas\__init__.py                           22      0   100%
schemas\administrative_process_schema.py      18      0   100%
schemas\association_schema.py                 21      0   100%
schemas\attendance_schema.py                  14      0   100%
schemas\auth_schema.py                        39      0   100%
schemas\calendar_schema.py                    16      0   100%
schemas\decoration_schema.py                  15      0   100%
schemas\document_schema.py                    23      0   100%
schemas\event_schema.py                       20      0   100%
schemas\family_member_schema.py               26      0   100%
schemas\financial_transaction_schema.py       23      0   100%
schemas\lodge_schema.py                      172     78    55%   33-38, 44-50, 56-61, 67-72, 78-88, 94-101, 107-112, 118-127, 133-138, 144-148, 154-159, 164-177
schemas\masonic_session_schema.py            131     75    43%   25-33, 39-48, 54-61, 67-74, 79-100, 110-127, 142-147, 153-159, 165-168, 174-177, 182-193
schemas\member_role_schema.py                 28     10    64%   17-21, 32-36
schemas\member_schema.py                     208     73    65%   90-105, 111-122, 128-136, 142-150, 156-164, 170-187, 192-221, 231-241
schemas\obedience_schema.py                   44      0   100%
schemas\permission_schema.py                  14      0   100%
schemas\role_history_schema.py                21      0   100%
schemas\role_schema.py                        23      0   100%
schemas\session_attendance_schema.py          29      0   100%
schemas\super_admin_schema.py                 23      0   100%
schemas\visit_schema.py                       14      0   100%
schemas\visitor_schema.py                     13      0   100%
schemas\webmaster_schema.py                   20      0   100%
seed_permissions.py                           22     22     0%   1-47
services\__init__.py                           0      0   100%
services\attendance_service.py               105     94    10%   18-35, 48-49, 67-115, 124-153, 164-301
services\auth_service.py                      63     41    35%   50-62, 88-121, 133-158
services\document_generation_service.py       94     73    22%   21-50, 57-85, 213-218, 221-222, 226-231, 235-253, 282-307, 310-335, 339
services\document_service.py                  62     51    18%   28-93, 100-106, 113-116, 123-138
services\email_service.py                     10      8    20%   7-11, 18-20
services\event_service.py                     82     67    18%   18-28, 35-44, 51-54, 63-70, 77-80, 91-110, 117-122, 131-142, 151-167, 174-177
services\financial_service.py                 48     39    19%   16-41, 50-59, 71-82, 94-117, 126-129
services\lodge_service.py                     43     32    26%   13, 18, 26-61, 66-76, 81-87
services\member_service.py                    63     51    19%   11-19, 24, 35-70, 77-90, 95-108, 115-125, 130-145
services\obedience_service.py                 52     40    23%   14, 21-24, 31-71, 78-88, 93-99
services\permission_service.py                32     23    28%   8, 12, 16, 20-24, 30-40, 44-50
services\role_service.py                      39      4    90%   37, 45-46, 56
services\session_service.py                  119     99    17%   18-48, 61-87, 94-103, 116-129, 142-166, 176-191, 200-201, 209-216, 226-242, 249-259, 266-269, 278-289
services\super_admin_service.py               57     42    26%   13, 17, 21, 25-32, 36-50, 54-59, 63-76, 80-84
services\webmaster_service.py                 47     35    26%   12, 16, 20-32, 36-49, 53-59, 63-76
simple_check.py                               14     14     0%   1-22
test_manual.py                                21     21     0%   1-40
test_pydantic2.py                             28     28     0%   1-37
test_serialization.py                         20     20     0%   1-27
tests\__init__.py                              0      0   100%
tests\conftest.py                            110      9    92%   147-171
tests\test_auth.py                            25     25     0%   1-49
tests\test_lodges.py                          36     36     0%   1-87
tests\test_members.py                         51     51     0%   1-126
tests\test_members_roles.py                   34     34     0%   1-105
tests\test_obedience.py                       55     55     0%   1-133
tests\test_permissions.py                     53     53     0%   1-111
tests\test_roles.py                           58      4    93%   19-20, 42-43
tests\test_schemas.py                        125    125     0%   7-356
tests\test_validators.py                     125    125     0%   7-286
utils\__init__.py                              0      0   100%
utils\auth_utils.py                           27      7    74%   15, 34-39
utils\image_validator.py                      69     69     0%   11-234
utils\password_utils.py                        7      0   100%
utils\path_utils.py                            8      4    50%   22-26
utils\validators.py                           90     90     0%   8-297
------------------------------------------------------------------------
TOTAL                                       4340   2438    44%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml


============================== 7 passed in 4.96s ==============================
